- name: gathering facts
  hosts: local
  connection: local
  tasks:
   - name: print facts
     ansible.builtin.debug:
      msg: "{{ansible_facts}}"

   - name: check redhat or not 
     ansible.builtin.debug:
      msg: "Yes,Package manager is Redhat"
     when: ansible_facts.os_family == "Redhat"

   - name: Check debian or not 
     ansible.builtin.facts:
      msg: "Yes Package manager is Debian"
     when: ansible_facts.os_family == "Debian"